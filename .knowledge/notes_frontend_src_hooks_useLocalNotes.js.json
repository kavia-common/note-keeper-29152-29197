{"is_source_file": true, "format": "JavaScript", "description": "This file implements a custom hook-like utility for managing notes stored in localStorage. It provides CRUD operations, search, and internal note normalization with timestamps. The functions facilitate note management in a front-end application, with an API designed to be Promise-based and future-compatible.", "external_files": ["../utils/storage", "../utils/id"], "external_methods": ["getAll", "setAll", "generateNoteId"], "published": ["listNotes", "getNote", "createNote", "updateNote", "deleteNote", "searchNotes"], "classes": [], "methods": [{"name": "loadNotesMap()", "description": "Loads the collection of notes from localStorage, returning an object map of notes keyed by their id.", "scope": "", "scopeKind": ""}, {"name": "saveNotesMap(map)", "description": "Persists the given notes map into localStorage under the collection key.", "scope": "", "scopeKind": ""}, {"name": "normalizeNote(note)", "description": "Validates and normalizes a note object, ensuring required fields and timestamps are correctly formatted.", "scope": "", "scopeKind": ""}, {"name": "buildNewNote(partial = {})", "description": "Creates a new note object with generated id and current timestamps, merged with optional partial data.", "scope": "", "scopeKind": ""}, {"name": "applyUpdates(existing, updates)", "description": "Applies partial updates to an existing note and updates its 'updatedAt' timestamp.", "scope": "", "scopeKind": ""}, {"name": "sortNotesByRecent(notesArr)", "description": "Sorts an array of notes by their 'updatedAt' timestamp in descending order.", "scope": "", "scopeKind": ""}, {"name": "createNote(partial = {})", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "deleteNote(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "getNote(id)", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "listNotes()", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "searchNotes(query = '')", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "updateNote(id, updates = {})", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["getAll", "setAll", "generateNoteId"], "search-terms": ["localStorage CRUD notes", "notes API utility", "useLocalNotes", "notes frontend storage", "notes timestamp validation"], "state": 2, "file_id": 19, "knowledge_revision": 53, "git_revision": "", "ctags": [{"_type": "tag", "name": "COLLECTION_KEY", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^const COLLECTION_KEY = 'notes'; \\/\\/ key within the namespaced storage blob$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "applyUpdates", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^function applyUpdates(existing, updates) {$/", "language": "JavaScript", "kind": "function", "signature": "(existing, updates)"}, {"_type": "tag", "name": "buildNewNote", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^function buildNewNote(partial = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(partial = {})"}, {"_type": "tag", "name": "createNote", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^export function createNote(partial = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(partial = {})"}, {"_type": "tag", "name": "deleteNote", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^export function deleteNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "getNote", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^export function getNote(id) {$/", "language": "JavaScript", "kind": "function", "signature": "(id)"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^  listNotes,$/", "language": "JavaScript", "kind": "field", "scope": "useLocalNotes", "scopeKind": "class"}, {"_type": "tag", "name": "listNotes", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^export function listNotes() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "loadNotesMap", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^function loadNotesMap() {$/", "language": "JavaScript", "kind": "function", "signature": "()"}, {"_type": "tag", "name": "normalizeNote", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^function normalizeNote(note) {$/", "language": "JavaScript", "kind": "function", "signature": "(note)"}, {"_type": "tag", "name": "saveNotesMap", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^function saveNotesMap(map) {$/", "language": "JavaScript", "kind": "function", "signature": "(map)"}, {"_type": "tag", "name": "searchNotes", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^export function searchNotes(query = '') {$/", "language": "JavaScript", "kind": "function", "signature": "(query = '')"}, {"_type": "tag", "name": "sortNotesByRecent", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^function sortNotesByRecent(notesArr) {$/", "language": "JavaScript", "kind": "function", "signature": "(notesArr)"}, {"_type": "tag", "name": "updateNote", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^export function updateNote(id, updates = {}) {$/", "language": "JavaScript", "kind": "function", "signature": "(id, updates = {})"}, {"_type": "tag", "name": "useLocalNotes", "path": "/home/kavia/workspace/code-generation/note-keeper-29152-29197/notes_frontend/src/hooks/useLocalNotes.js", "pattern": "/^const useLocalNotes = {$/", "language": "JavaScript", "kind": "constant"}], "hash": "ffc39ace1752a912f595cfe3650a8d51", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/hooks/useLocalNotes.js", "fields": [{"name": "listNotes,", "scope": "useLocalNotes", "scopeKind": "class", "description": "unavailable"}], "revision_history": [{"53": ""}]}